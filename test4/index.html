<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>大老爺 - 值得您信任的平台</title>
  <meta name="description" content="即刻起登入即領簽到獎，趕緊添加大老爺白白申請！" />
  <style>
    :root{
      --bg:#000;
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.55);
      --radius:22px;
      --line:#06C755;
      --line2:#1fe27a;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", Arial, sans-serif;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px 14px;
      overflow:hidden;
      position:relative;
    }

    /* Background fireworks (unchanged) */
    #bgFx{
      position:fixed;
      inset:0;
      z-index:0;
      pointer-events:none;
    }

    .stage{
      width:min(460px,100%);
      aspect-ratio:9/16;
      max-height: calc(100vh - 32px);
      display:flex;
      flex-direction:column;
      gap:14px;
      position:relative;
      z-index:1;
    }

    .topSpace{ height:24%; min-height:140px; }

    /* NEW: firework card above image */
    .fireCard{
      position:relative;
      height:150px;
      border-radius:var(--radius);
      overflow:hidden;
      border:1px solid rgba(255,255,255,.15);
      background:rgba(0,0,0,.25);
    }
    .fireCard canvas{
      position:absolute;
      inset:0;
      pointer-events:none;
    }

    .heroWrap{
      border-radius: var(--radius);
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.08);
      background:#000;
      width:100%;
      aspect-ratio: 1 / 1;
      box-shadow: 0 18px 70px rgba(0,0,0,.45);
    }
    .hero{ width:100%; height:100%; object-fit:cover; display:block; }

    .cta{
      margin-top:auto;
      width:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:18px;
      border-radius:18px;
      text-decoration:none;
      font-weight:900;
      font-size:22px;
      color:#fff;
      background: linear-gradient(135deg, var(--line), var(--line2));
      animation: ctaBreath 1.8s ease-in-out infinite;
    }
    @keyframes ctaBreath{
      0%,100%{ transform: scale(1); }
      50%{ transform: scale(1.045); }
    }

    .footer{
      text-align:center;
      font-size:12px;
      color:var(--muted);
    }
  </style>
</head>

<body>
  <canvas id="bgFx"></canvas>

  <main class="stage">
    <section class="topSpace"></section>

    <!-- ONLY ADDITION -->
    <section class="fireCard" aria-label="fireworks card">
      <canvas id="cardFx"></canvas>
    </section>

    <section class="heroWrap">
      <img class="hero" src="assets/hero.png" alt="大老爺 活動圖" />
    </section>

    <a class="cta" href="https://lin.ee/kGFQel1" target="_blank">加LINE領簽到</a>
    <div class="footer">© <span id="year"></span> 大老爺娛樂平台 All Rights Reserved.</div>
  </main>

<script>
/* ===== shared firework engine (same logic, reused) ===== */
function Firework(canvas, rangeTop){
  const ctx = canvas.getContext('2d');
  let W=0,H=0,dpr=Math.min(2,devicePixelRatio||1);
  const rockets=[], sparks=[];
  const colors=['#ff4d4d','#ffd166','#06c755','#4dd0ff','#b388ff'];
  const rand=(a,b)=>a+Math.random()*(b-a);

  function resize(){
    W = canvas.clientWidth || innerWidth;
    H = canvas.clientHeight || innerHeight;
    canvas.width = W*dpr; canvas.height = H*dpr;
    ctx.setTransform(dpr,0,0,dpr,0,0);
  }
  resize(); addEventListener('resize',resize);

  function launch(){
    rockets.push({
      x: rand(0,W),
      y: H+20,
      vy: rand(-10,-7),
      vx: rand(-0.6,0.6),
      g: 0.08,
      fuse: 50,
      explodeY: rand(H*rangeTop[0], H*rangeTop[1]),
      c: colors[(Math.random()*colors.length)|0]
    });
  }
  function explode(r){
    for(let i=0;i<60;i++){
      const a=Math.random()*Math.PI*2, s=rand(2,5);
      sparks.push({x:r.x,y:r.y,vx:Math.cos(a)*s,vy:Math.sin(a)*s,life:70,age:0,c:r.c});
    }
  }
  function tick(){
    ctx.fillStyle='rgba(0,0,0,0.25)';
    ctx.fillRect(0,0,W,H);
    if(Math.random()<0.08) launch();

    for(let i=rockets.length-1;i>=0;i--){
      const r=rockets[i];
      r.x+=r.vx; r.y+=r.vy; r.vy+=r.g; r.fuse--;
      ctx.fillStyle=r.c; ctx.beginPath(); ctx.arc(r.x,r.y,2.4,0,Math.PI*2); ctx.fill();
      if(r.fuse<=0 || r.y<=r.explodeY){ explode(r); rockets.splice(i,1); }
    }
    for(let i=sparks.length-1;i>=0;i--){
      const s=sparks[i];
      s.x+=s.vx; s.y+=s.vy; s.vy+=0.04; s.age++;
      ctx.globalAlpha=1-s.age/s.life;
      ctx.fillStyle=s.c; ctx.beginPath(); ctx.arc(s.x,s.y,2,0,Math.PI*2); ctx.fill();
      ctx.globalAlpha=1;
      if(s.age>s.life) sparks.splice(i,1);
    }
    requestAnimationFrame(tick);
  }
  tick();
}

/* background (unchanged feel) */
Firework(document.getElementById('bgFx'), [0.08, 0.25]);
/* card fireworks ONLY */
Firework(document.getElementById('cardFx'), [0.25, 0.6]);

document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>
